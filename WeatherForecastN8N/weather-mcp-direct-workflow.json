{
  "name": "Weather Forecast via MCP Server",
  "nodes": [
    {
      "parameters": {
        "options": {}
      },
      "id": "chat-trigger",
      "name": "When chat message received",
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.1,
      "position": [240, 300],
      "webhookId": "weather-mcp-chat"
    },
    {
      "parameters": {
        "options": {
          "systemMessage": "You are a helpful weather assistant with access to real-time weather data through MCP tools. When users ask about weather, use the available tools to provide accurate, detailed information. Always include temperatures in both Celsius and Fahrenheit."
        }
      },
      "id": "ai-agent",
      "name": "AI Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.6,
      "position": [460, 300],
      "notesInFlow": true,
      "notes": "AI Agent using MCP Server tools"
    },
    {
      "parameters": {
        "model": "llama3.2:latest",
        "options": {
          "temperature": 0.7,
          "baseUrl": "http://localhost:11434"
        }
      },
      "id": "ollama-model",
      "name": "Ollama Llama 3.2",
      "type": "@n8n/n8n-nodes-langchain.lmChatOllama",
      "typeVersion": 1,
      "position": [460, 480],
      "notesInFlow": true,
      "notes": "Ollama Llama 3.2 model"
    },
    {
      "parameters": {
        "name": "get_weather_forecast",
        "description": "Get weather forecast for a specified number of days (1-30). Returns temperature, humidity, wind, precipitation, and pressure data via MCP Bridge.",
        "method": "GET",
        "url": "=http://localhost:9000/tools/forecast?days={{ $fromAI('days', '', 5) }}",
        "options": {}
      },
      "id": "tool-forecast",
      "name": "MCP_Weather_Forecast",
      "type": "@n8n/n8n-nodes-langchain.toolHttpRequest",
      "typeVersion": 1.1,
      "position": [680, 100],
      "notesInFlow": true,
      "notes": "Calls MCP Bridge on port 9000"
    },
    {
      "parameters": {
        "name": "get_current_weather",
        "description": "Get current weather conditions for a city. Returns current temperature, conditions, humidity, and wind via MCP Bridge.",
        "method": "GET",
        "url": "=http://localhost:9000/tools/current?city={{ $fromAI('city', '', '') }}",
        "options": {}
      },
      "id": "tool-current",
      "name": "MCP_ Current Weather",
      "type": "@n8n/n8n-nodes-langchain.toolHttpRequest",
      "typeVersion": 1.1,
      "position": [680, 200],
      "notesInFlow": true,
      "notes": "Calls MCP Bridge on port 9000"
    },
    {
      "parameters": {
        "name": "get_city_forecast",
        "description": "Get weather forecast for a specific city. Requires city name via MCP Bridge.",
        "method": "GET",
        "url": "=http://localhost:9000/tools/city-forecast?city={{ $fromAI('city', '', 'London') }}&days={{ $fromAI('days', '', 5) }}",
        "options": {}
      },
      "id": "tool-city",
      "name": "MCP_ City Forecast",
      "type": "@n8n/n8n-nodes-langchain.toolHttpRequest",
      "typeVersion": 1.1,
      "position": [680, 300],
      "notesInFlow": true,
      "notes": "Calls MCP Bridge on port 9000"
    },
    {
      "parameters": {
        "name": "get_weather_alerts",
        "description": "Get active weather alerts and warnings. Returns alert type, severity, and time periods via MCP Bridge.",
        "method": "GET",
        "url": "=http://localhost:9000/tools/alerts?city={{ $fromAI('city', '', '') }}",
        "options": {}
      },
      "id": "tool-alerts",
      "name": "MCP_ Weather Alerts",
      "type": "@n8n/n8n-nodes-langchain.toolHttpRequest",
      "typeVersion": 1.1,
      "position": [680, 400],
      "notesInFlow": true,
      "notes": "Calls MCP Bridge on port 9000"
    },
    {
      "parameters": {
        "name": "get_weather_statistics",
        "description": "Get weather statistics over a period. Returns averages, extremes, and totals via MCP Bridge.",
        "method": "GET",
        "url": "=http://localhost:9000/tools/statistics?days={{ $fromAI('days', '', 7) }}",
        "options": {}
      },
      "id": "tool-stats",
      "name": "MCP_ Weather Statistics",
      "type": "@n8n/n8n-nodes-langchain.toolHttpRequest",
      "typeVersion": 1.1,
      "position": [680, 500],
      "notesInFlow": true,
      "notes": "Calls MCP Bridge on port 9000"
    }
  ],
  "connections": {
    "When chat message received": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Ollama Llama 3.2": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "MCP_ Weather Forecast": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "MCP_ Current Weather": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "MCP_ City Forecast": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "MCP_ Weather Alerts": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "MCP_ Weather Statistics": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    }
  },
  "pinData": {},
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": null,
  "tags": [],
  "triggerCount": 0,
  "updatedAt": "2025-10-29T00:00:00.000Z",
  "versionId": "1"
}
